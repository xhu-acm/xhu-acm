[海底高铁](https://www.luogu.com.cn/problem/P3406)
思考:
对行程中每一对相邻访问的城市，使用差分数组标记它们之间的所有铁路段,取两个城市编号中的较小值 p1 和较大值 p2，然后在差分数组上进行标记:t[p1] += 1 和 t[p2] -= 1。再通过前缀和计算得到每一段铁路的实际经过次数 x。然后对每一段铁路，比较两种支付方式的总花费：若全程购买单程票则花 x * A，若购买 IC 卡则花 C + x * B，取两者中的较小值累加到总花费中。

最后的代码:
#include<bits/stdc++.h>
#define int long long
using namespace std;
const int N=1e5;
int a[N];
int bil[N];
int pos[N];
int t[N];
int n,m;
signed main()
{
    cin>>n>>m;
    for(int i=1;i<=m;i++)
    {cin>>pos[i];}
    for(int i=1;i<=m-1;i++)
    {
        int p1,p2;
        p1=min(pos[i],pos[i+1]);
        p2=max(pos[i],pos[i+1]);
        t[p1]+=1;
        t[p2]-=1;;
    }
    int sum=0;
    int x=0;
    for(int i=1;i<=n-1;i++)
    { 
      x+=t[i];
      int A,B,C;
      cin>>A>>B>>C;
      int card=0,ticket=0;
      card=C+x*B;
      ticket=x*A;
      sum+=min(card,ticket);
    }
    cout<<sum;
    return 0;
}